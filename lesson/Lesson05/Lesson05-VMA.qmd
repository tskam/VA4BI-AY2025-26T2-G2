---
title: "Lesson 5: </br>Visual Multivariate Analysis"
author: "Dr. Kam Tin Seong<br/>Assoc. Professor of Information Systems (Practice)"
institute: "School of Computing and Information Systems,<br/>Singapore Management University"
date: "`r Sys.Date()`"
format: 
  revealjs:
    width: 1600
    height: 900
    show-notes: false
    slide-number: true
    show-slide-number: 'all'
date-format: "DD MMM YYYY"
execute: 
  echo: true
  eval: true
  warning: false
editor: visual  
---

## Content

What will you learn from this lesson?

-   Understand the characteristics of multidimensional data
-   Visual analytics techniques and tools for visualising and analysing multidimensional continuous data
-   Visual analytics techniques and tools for visualising and analysing multidimensional categorical data
-   Sensing both categorical and continuous multidimensional data
-   Multidimensional data analysis best practices

::: notes
In this lesson, I am going to share with you a collection of visual multivariate analysis techniques.
:::

## Visual analytics techniques

-   Scatterplot Matrix
-   Ternary plot
-   Glyphs
-   Parallel coordinates
-   Heatmap

::: notes
There are many Visual Multivariate Analysis technqiues. In this lesson, I am going share with you five popular one. They are:
:::

## Introducing Multidimensional Data

### Wine data set

There are 13 variables in this data set. 11 of them are in continuous data type, one in ordinal scale and one in nominal scale.

::: {style="font-size: 0.75em"}
```{r echo=FALSE}
library(readr)
library(tidyverse)
wine <- read_csv("data/wine_quality.csv")
head(wine) %>% 
  knitr::kable(format = "html")
```
:::

::: {style="font-size: 0.6em"}
Source: [UCI Machine Learning Repository](https://archive.ics.uci.edu/ml/datasets/Wine)
:::

::: notes
Table in this slide shows a typical multivariate data sets. This is the popular wine quality data from UCI Machine Learning Repository. It consists of 13 variables in this data set. The first 11 variables are in continuous data type. The quality and type variables are in ordinal scale and nominal scale respectively.
:::

## Scatterplot Matrix

::::: columns
::: {.column width="50%"}
-   **Scatterplot matrix** (also known as **correlation matrix**) is a graphical method used to reveal the relationship between multiple variables *pairwisely*.
:::

::: {.column width="50%"}
![](img/image5-2.jpg)
:::
:::::

::: notes
Each black dot in the scatterplot matrix represents an observation in the data table.
:::

------------------------------------------------------------------------

### Scatterplot Matrix: Problem with large data

![](img/image5-3.jpg)

::: notes
When a relatively large number of observation points is used, the scatterplot matrix failed to reveal the pair relationship effectively.
:::

## Correlogram

::::: columns
::: {.column width="50%"}
-   [`Correlogram`](https://www.data-to-viz.com/graph/correlogram.html) uses **visual geometrics** such as ellipse, circle, square, and bars to replace the scatterplot in correlation matrix.

-   It is very useful to reveal pair-relationships between variables in a large correlation matrix.

-   In this plot, correlation coefficients is colored according to the value.
:::

::: {.column width="50%"}
![](img/image5-4.jpg){width="700"}
:::
:::::

::: notes
For positive correlation, the colour intensity change from light blue to dark blue when the correlation coefficient values increases from 0 to 1. For negative correlation, the colour intensity change from light red to dark red when the correlation coefficient values increase from 0 to -1. Besides colour, the shape and direction of the ellipse also used to map the correlation coefficient. For example, the direction of the ellipses indicate positive or negative correlation and thin ellipses are shown paired variables with strong linear correlation.
:::

------------------------------------------------------------------------

### Visual abstractions for rendering correlation values.

![](img/image5-5.jpg)

::: notes
Figure in this slide shows the visual variables commonly used to build correlogram. These include visual objects such as circle, ellipse, bar, and shaded. Other visual variables include colour, pattern, direction and number.
:::

------------------------------------------------------------------------

### **corrgram** package

::::: columns
::: {.column width="50%"}
-   The [**corrgram**](https://kwstat.github.io/corrgram/index.html) is one of the oldest R package specially designed to correlograms. You can choose what to display in the upper, lower and diagonal part of the figure: scatterplot, pie chart, text, ellipse and more.
:::

::: {.column width="50%"}
![](img/image5-6.jpg){width="700"}
:::
:::::

## Beyond Visualising Variables Pairwisely

### The data

![](img/image5-10.jpg)

## Ternary Plot

::::: columns
::: {.column width="50%"}
-   A ternary plot (also known as ternary graph, triangle plot, simplex plot, Gibbs triangle or de Finetti diagram) is a [barycentric plot](https://en.wikipedia.org/wiki/Barycentric_coordinate_system) on three variables which sum to a constant, usually in percentage.

-   It graphically depicts the ratios of the three variables as positions in an [equilateral triangle](https://en.wikipedia.org/wiki/Equilateral_triangle).
:::

::: {.column width="50%"}
![](img/image5-11.jpg)
:::
:::::

------------------------------------------------------------------------


### Glyphs

::::: columns
::: {.column width="50%"}
-   Star plot (Chambers 1983)(also known as radar chart, star chart and spider chart) is a method of displaying multivariate data.
-   The star plot consists of a sequence of equi-angular spokes, called radii, with each spoke representing one of the variables. The data length of a spoke is proportional to the magnitude of the variable for the data point relative to the maximum magnitude of the variable across all data points. A line is drawn connecting the data values for each spoke. This gives the plot a star-like appearance and the origin of the name of this plot.
:::

::: {.column width="50%"}
![](img/image5-13.jpg){width="450"}
:::
:::::

------------------------------------------------------------------------

### Multiple Glyphs Chart

![](img/image5-14.jpg)


## Visualising and Analysing Multivariate Data: Heatmap method

::::: columns
::: {.column width="50%"}
-   A heat map (or heatmap) is a graphical representation of data where the individual values contained in a matrix are represented as colors.
:::

::: {.column width="50%"}
![](img/image5-15.jpg)
:::
:::::

::: notes
-   When applied to a tabular format, heatmaps are useful for cross-examining multivariate data, through placing variables in the columns and observation (or records) in row and colouring the cells within the table.
-   Heatmaps are good for showing variance across multiple variables, revealing any patterns, displaying whether any variables are similar to each other, and for detecting if any correlations exist in-between them.
-   It is important to note that when the values are all positive or all negative, a colour scheme with different intensity should be used. On the other hand, if the values are in both positive and negative, then, diverging colour scheme should be used.
:::

## Visualising and Analysing Multivariate Data

### Parallel Coordinates Plot Method

Parallel Coordinates plot or Parallel plot allows to compare the feature of several individual observations on a set of numeric variables.

![](img/image5-17.jpg)

::: notes
Each vertical bar represents a variable and usually has its own scale. (The units can even be different). Values are then plotted as series of lines connected across each axis. Similar to heatmap, interactivity should be used to complete the data exploration and analysis when using parallel coordinates plot.
:::

------------------------------------------------------------------------

### Parallel Coordinates: Brushing

![](img/image5-18.jpg)

::: notes
In this slide, brushing is use to select several observations of interest. With brushing function, we can compare them easily.
:::

------------------------------------------------------------------------

### Parallel Coordinates: Colour and Highlighting

![](img/image5-19.jpg)

::: notes
In this slide, colour and highlighting interactive functions is used to select observation of interest.
:::

------------------------------------------------------------------------

### Parallel Coordinates: Filtering

![](img/image5-20.jpg)

::: notes
In this slide, filtering is used to remove unwanted observations so that we can focus on the observation we are interested to investigate.
:::

------------------------------------------------------------------------

### Parallel Coordinates and boxplot

![](img/image5-21.jpg)

::: notes
Addition statistical graphics such as boxplot can be used to provide context for more effective visual data exploration and analysis.
:::

## Reference

-   [Radar Chart](http://en.wikipedia.org/wiki/Radar_chart).
-   [Ternary plot](https://en.wikipedia.org/wiki/Ternary_plot), [this](http://csmres.jmu.edu/geollab/Fichter/SedRx/readternary.html) and [this](http://wvaughan.org/ternaryplots.html).
-   Friendly, M (2002) "Corrgrams: Exploratory Displays for Correlation Matrices" The American Statistician, Vol. 56, No. 4, pp. 316-324.

```{r}
#| echo: false
#| eval: false
renderthis::to_pdf(
  from = "https://isss608-ay2022-23jan.netlify.app/lesson/Lesson05/Lesson05-VMA.html",
  to = "../../_site/lesson/Lesson05/Lesson05-VMA.pdf"
)
```
